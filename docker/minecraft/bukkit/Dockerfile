FROM minecraft:bukkit-shared

# Merge Bukkit configuration to shared
COPY . .

# Bukkit specific variables
ENV SERVER_ROLE=PGM
ENV SERVER_RESTART=6h
ENV SERVER_KICK_LIMIT=256
ENV SERVER_ONLINE=false
ENV SERVER_BUNGEECORD=true
ENV SERVER_FLAIRS_OVERHEAD=false
ENV SERVER_FLAIRS_LIMIT=-1
ENV SERVER_STATS=true
ENV SERVER_COMMAND_BLOCK=false
ENV SERVER_TIMEOUT=0
ENV SERVER_OP=4
ENV SERVER_SIZE=256
ENV SERVER_MAP_PATH=''
ENV SERVER_PROXIMITY=false
ENV SERVER_POLL=true
ENV SERVER_MUTATIONS=true
ENV SERVER_RATINGS=true
ENV SERVER_CHAT_FORMAT="§f<{1}§r§f>: {3}"

# Start the bukkit server
CMD exec ./start-bukkit.sh